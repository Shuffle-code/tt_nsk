<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/html" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Participate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>
</head>
<body>
<div th:replace="~{common/navbar :: navi(Participate)}"></div>

<div class="d-flex align-items-center bg-light mb-3">
    <span th:if="${countPlaying == 0}">Игроков нет</span>
    <table class="table table-striped table-bordered table table-sm">
        <thead class="table-secondary">
        <tr>
            <th scope="col" width="60px">№</th>
            <th colspan="2" scope="col" width="300px">Фамилия Имя/Рейтинг</th>
            <th scope="col">1</th>
            <th scope="col">2</th>
        </tr>
        </thead>
        <tbody data-mdb-spy="scroll">
        <tr th:each="player, i : ${playersTour}"
            th:classappend="${player.status.name() == 'ACTIVE'} ? 'table-light' : 'table-info'"
            th:attr="play_index=${player.id}">
            <th scope="row" th:text="${i.count}"></th>
            <td colspan="2">
                <div class="d-flex align-items-center">
                    <img th:src="@{'/player/image/' + ${player.id}}" alt="" width="40px" height="40px" class="rounded-circle" />
                    <div class="ms-3">
                        <p th:text="${player.lastname + ' ' + player.firstname + ' ' + player.rating}"></p>
                    </div>
                </div>
            </td>
            <td width="60px"></td>
            <td width="60px" class="table-active"></td>
        </tr>
        </tbody>
    </table>
    <ul id="scroll-container" class="sidenav-menu">
        <li class="sidenav-item">
            <div class="input-group rounded my-2">
                <div class="form-outline w-auto">
                    <input id="search-input-sidenav" type="search" id="form1" class="form-control" />
                    <label class="form-label" for="form1">Search</label>
                </div>
            </div>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 1</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 2</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 3</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 4</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 5</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 6</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 7</span>
            </a>
        </li>
        <li class="sidenav-item">
            <a class="sidenav-link">
                <i class="far fa-smile pe-3"></i><span>Link 8</span>
            </a>
        </li>
    </ul>
    <div th:unless="${countPlaying == 0}">

     <div>
        <table class="table table-striped table-bordered table table-sm">
            <thead class="table-secondary">
            <tr>
                <th scope="col">№</th>
                <th colspan="2" scope="col">Фамилия Имя/Рейтинг</th>
                <th scope="col">1</th>
                <th scope="col">2</th>
                <th scope="col">3</th>
                <th scope="col">Сеты</th>
                <th scope="col">Рейтинг</th>
                <th scope="col">Дельта</th>
                <th scope="col">Место</th>
            </tr>
            </thead>
            <tbody data-mdb-spy="scroll">
            <tr>
                <th scope="row" id="1">1</th>
                <td colspan="2">
                    <div class="d-flex align-items-center">
                        <img th:src="@{'/player/image/' + ${player1.id}}" alt="" width="40px" height="40px" class="rounded-circle" />
                        <div class="ms-3">
                            <p th:text="${player1.lastname + ' ' + player1.firstname + ' ' + player1.rating}" id = "player1"></p>
                    </div>
                </td>
                <th width="60px" class="table-secondary">TT</th>
                <td width="60px">
                    <input
                            type="text" id = "f2"
                            class="form-control"
                            placeholder="0/0"
                            value=""
                            style="font-weight: bold"
                    />
                </td>
                <td width="60px">
                    <input
                            type="text" id = "f3"
                            class="form-control"
                            placeholder="0/0"
                            value=""
                            style="font-weight: bold"
                    />
                </td>
                <th width="60px" id="set"></th>
                <th id="rating"></th>
                <th id="delta"></th>
                <th id="place"></th>
            </tr>
            <tr>
                <th scope="row" id="2">2</th>
                <td colspan="2">
                    <div class="d-flex align-items-center">
                        <img th:src="@{'/player/image/' + ${player2.id}}" alt="" width="40px" height="40px" class="rounded-circle" />
                        <div class="ms-3">
                            <p  th:text="${player2.lastname + ' ' + player2.firstname + ' ' + player2.rating}" id = "player2"></p>
                        </div>
                    </div>
                </td>
                <td width="60px">
                    <input
                            type="text" id = "f11"
                            class="form-control"
                            placeholder="0/0"
                            value=""
                            style="font-weight: bold"
                    />
                </td>
                <th width="60px" class="table-secondary">TT</th>
                <td width="60px">
                    <input
                            type="text" id = "f13"
                            class="form-control"
                            placeholder="0/0"
                            value=""
                            style="font-weight: bold"
                    />
                </td>
                <th width="60px" id="set1"></th>
                <th id="rating1"></th>
                <th id="delta1"></th>
                <th id="place1"></th>
            </tr>
            <tr>
                <th scope="row" id="3">3</th>
                <td colspan="2">
                    <div class="d-flex align-items-center">
                        <img th:src="@{'/player/image/' + ${player3.id}}" alt="" width="40px" height="40px" class="rounded-circle" />
                        <div class="ms-3">
                            <p th:text="${player3.lastname + ' ' + player3.firstname + ' ' + player3.rating}" id = "player3" ></p>
                        </div>
                    </div>
                </td>
                <td width="60px">
                    <div>
                        <input
                                type="text" id = "f21"
                                value=""
                                class="form-control"
                                placeholder="0/0"
                                th:style="${('f2' > 'f21')}? 'color: red;' : 'font-weight: bold;'"
                        />
                    </div>
                </td>
                <td width="60px">
                    <input
                            type="text" id = "f22"
                            class="form-control"
                            placeholder="0/0"
                            value=""
                            style="font-weight: bold"
                    />
                </td>
                <th width="60px" class="table-secondary">TT</th>
                <th width="60px" id="set2"></th>
                <th id="rating2"></th>
                <th id="delta2"></th>
                <th id="place2"></th>
            </tr>
            </tbody>
        </table>
        <div class="col-md-10" th:object="${tour}">
            <div class="input-group">
                <button  type="button" class="btn btn-success" id="calculate">Расчитать</button>
                <button sec:authorize="hasAuthority('player.create')" class="btn btn-primary" type="submit" id="save">Сохранить</button>
                <input type="text" class="form-control" placeholder="Перед сохранением введите: Имя турнира" aria-label="Sizing example input"
                       aria-describedby="inputGroup-sizing-default" th:field="*{title}">
            </div>
        </div>
</div>

<div th:replace="~{common/footer :: footerBlock}"/>
<script src="/script/count.js"></script>
</body>
</html>